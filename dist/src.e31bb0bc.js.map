{"version":3,"sources":["js/apiService.js","index.js"],"names":["ImgApiService","searchImg","page","url","fetch","then","r","json","data","incrementPage","hits","newImg","refs","searchForm","document","querySelector","galleryImg","buttonLoad","imgApiService","addEventListener","onSearch","onLoadMore","e","preventDefault","clearArticlesContainer","img","currentTarget","elements","query","value","resetPage","fetchArticles","appendArticlesContainer","insertAdjacentHTML","innerHTML"],"mappings":";;ACCA;;AACA;;;;AAFA;AAIA,IAAMY,IAAI,GAAG;AACTC,EAAAA,UAAU,EAAEC,QAAQ,CAACC,aAAT,gBADH;AAETC,EAAAA,UAAU,EAAEF,QAAQ,CAACC,aAAT,YAFH;AAGTE,EAAAA,UAAU,EAAEH,QAAQ,CAACC,aAAT;AAHH,CAAb,GDJqBf;ACUrB,ADTI,ICSEkB,aAAa,GAAG,IAAIlB,GDTR,gBCSI,EAAtB;AAEAY,ADXkB,ICWd,CAACC,UAAL,CAAgBM,gBAAhB,WAA2CC,QAA3C;AACAR,IAAI,CAACK,UAAL,CAAgBE,gBAAhB,UAA0CE,UAA1C;ADXQ,SAAKpB,SAAL,GAAiB,EAAjB;ACaR,ADZQ,SCYCmB,ADZIlB,IAAL,GAAY,CCYpB,ADZQ,CCYUoB,CAAlB,EAAqB;AACjBA,ADZC,ECYDA,CAAC,CAACC,cAAF;AAEAC,EAAAA,sBAAsB;AACtBN,EAAAA,aAAa,CAACO,GAAd,GAAoBH,CAAC,CAACI,aAAF,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+BC,KAAnD;AACAX,EAAAA,aAAa,CAACY,SAAd;AACAZ,EAAAA,aAAa,CAACa,aAAd,GAA8B1B,IAA9B,ADfgB,CCemB2B,uBAAnC;AACH,ADhBmB;;ACkBpB,ADjBQ,SCiBCX,CDjBKlB,GAAG,MCiBjB,GAAsB,0FDhBA,KAAKF,SADV,mBAC4B,KAAKC,IADjC,wDAAT;ACkBJgB,ADfD,ECeCA,WDfMd,ECeO,CAAC2B,EDfH,CAAC5B,GAAD,CAAL,CACLE,IADK,CCeN,ADdM,GCcwBA,IAA9B,CAAmC2B,EDd7B1B,CAAC,oBCcP;AACH,ADfU,eAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,OADD,EAEFF,IAFE,CAEG,UAAAG,IAAI,EAAI;ACgBrB,ADfW,QAAA,CCeFwB,IDfM,CAACvB,aAAL,KCeX,CAAiCC,IAAjC,EAAuC;AACnCE,EAAAA,IAAI,CAACI,UAAL,CAAgBiB,kBAAhB,CAAmC,WAAnC,EAAgD,8BAC3CvB,IAD2C,CAAhD;AAEH,ADhBU,eAAOF,IAAI,CAACE,IAAZ;AACF,OANC,CAAP;ACuBH,ADfK,SCeIc,sBAAT,GAAkC;AAC9BZ,EAAAA,IAAI,CAACI,UAAL,CAAgBkB,SAAhB,GAA4B,EAA5B;AACH;oCDfmB;AACf,WAAKhC,IAAL,IAAa,CAAb;AACA;;;gCAEW;AACX,WAAKA,IAAL,GAAY,CAAZ;AACA;;;wBAES;AACN,aAAO,KAAKD,SAAZ;AACH;sBAEOU,QAAQ;AACZ,WAAKV,SAAL,GAAiBU,MAAjB;AACH","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["export default class ImgApiService {\r\n    constructor() {\r\n        this.searchImg = '';\r\n        this.page = 1;\r\n    }\r\n\r\n    fetchArticles() {\r\n        const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal\r\n                 &q=${this.searchImg}&page=${this.page}&per_page=12&key=19156356-c40e703531fee6556ca92e5f2`;\r\n\r\n   return fetch(url)\r\n    .then(r => r.json())\r\n       .then(data => {\r\n           this.incrementPage();   \r\n           \r\n           return data.hits;\r\n        }\r\n    );\r\n    }\r\n\r\n    incrementPage() {\r\n     this.page += 1;   \r\n    }\r\n\r\n    resetPage() {\r\n     this.page = 1;   \r\n    }\r\n\r\n    get img() {\r\n        return this.searchImg;\r\n    }\r\n\r\n    set img(newImg) {\r\n        this.searchImg = newImg;\r\n    }\r\n}","//import './css/style.css';\r\nimport imgCards from './hbs/parcel-plugin-foo.hbs';\r\nimport ImgApiService from './js/apiService';\r\n\r\nconst refs = {\r\n    searchForm: document.querySelector(`.search-form`),\r\n    galleryImg: document.querySelector(`.gallery`),\r\n    buttonLoad: document.querySelector(`.button-load`),\r\n};\r\n\r\nconst imgApiService = new ImgApiService();\r\n\r\nrefs.searchForm.addEventListener(`submit`, onSearch);\r\nrefs.buttonLoad.addEventListener(`click`, onLoadMore);\r\n\r\nfunction onSearch(e) {\r\n    e.preventDefault();\r\n\r\n    clearArticlesContainer();\r\n    imgApiService.img = e.currentTarget.elements.query.value;\r\n    imgApiService.resetPage();\r\n    imgApiService.fetchArticles().then(appendArticlesContainer);\r\n}\r\n\r\nfunction onLoadMore() { \r\n    imgApiService.fetchArticles().then(appendArticlesContainer);\r\n}\r\n\r\nfunction appendArticlesContainer(hits) {\r\n    refs.galleryImg.insertAdjacentHTML('beforeend', imgCards\r\n        (hits));\r\n}\r\n\r\nfunction clearArticlesContainer() {\r\n    refs.galleryImg.innerHTML = '';   \r\n}\r\n"]}